إضافة عدّادات للجدولين (بجانب العنوان)

النطاق: واجهة العرض فقط دون تغيير اللوجيك الداخلي للبيانات.

ما المطلوب؟

إضافة Badge/رقاقة عدّاد صغيرة بمحاذاة عنواني:

Saved assessments

Previous phone follow-ups

كل Badge تعرض عدد الصفوف الحالية في الجدول بعد تطبيق أي فلاتر/بحث.

إذا كان الجدول يدعم pagination، فالعدد يجب أن يمثل إجمالي النتائج المطابقة (وليس عدد صفوف الصفحة الحالية).

السلوك والتحديث

تحديث لحظي عند:

الإضافة/الحذف/التعديل على صفوف الجدول،

تغيير الفلاتر/نص البحث،

التنقل بين صفحات الجدول (يظل العدد = إجمالي النتائج).

حالات خاصة:

أثناء التحميل: اعرض مؤشر صغير أو —.

لا توجد بيانات: اعرض 0.

عند خطأ في الجلب: اعرض — مع aria-live لإشعار الشاشة القارئة عند التعافي.

الموضع والشكل

الموضع: على يمين عنوان القسم مباشرة، مع هامش يسار صغير، بدون كسر سطر العنوان.

الشكل: Badge صغيرة مستديرة، ارتفاع مدمج، خط أصغر بدرجة من العنوان، ألوان من نظام التصميم المعتمد (محايد/أساسي).

الاتساق: نفس الأبعاد/الهوامش/لون الحدود في كلا العنوانين.

إمكانية الوصول (Accessibility)

أضف aria-label ديناميكيًا:

aria-label="Assessed patients count: N" لِـ Saved assessments

aria-label="Phone follow-ups count: N" لِـ Previous phone follow-ups

استخدم aria-live="polite" على عنصر العدد لتحديثات هادئة.

مصدر البيانات

احتسب العدد من المجموعة المصدّرة للجدول بعد الفلترة.

في حالة الجلب عبر خادم (server-side): استخدم قيمة الإجمالي القادمة من الاستجابة (مثل totalCount)، وليس طول مصفوفة الصفحة.

أمثلة قبول (Acceptance)

مع 12 صفًا مطابقة بعد الفلترة، تعرض Badges الرقم 12 لكلا العنوانين.

عند حذف صف من Saved assessments يصبح العدد 11 فورًا.

عند تغيير البحث ليطابق 3 صفوف فقط، تتحول Badges إلى 3 حتى لو كانت الصفحة تعرض صفًا واحدًا حاليًا.

في عدم وجود بيانات، تظهر Badges بقيمة 0 بدون كسر تخطيط الكارد.

أثناء التحميل، تظهر — ثم تتحول للعدد الصحيح عند اكتمال الجلب.

لا يغيّر إضافة العدّادات أي تخطيطات أخرى، ويبقى كل جدول داخل الكارد.

(اختياري) تسمية متغيرات/مكونات

دالة إجمالي النتائج بعد الفلترة: getFilteredTotal()

Badge العنوان:

SavedAssessmentsCountBadge

PreviousFollowupsCountBadge